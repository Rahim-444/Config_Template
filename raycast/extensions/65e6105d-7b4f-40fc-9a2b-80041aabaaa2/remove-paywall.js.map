{
  "version": 3,
  "sources": ["../src/remove-paywall.tsx", "../src/utils.ts"],
  "sourcesContent": ["import { Toast, getPreferenceValues, LaunchProps, open, showToast } from \"@raycast/api\";\nimport { getUrl } from \"./utils\";\n\nexport default async (props: LaunchProps<{ arguments: Arguments.RemovePaywall }>) => {\n  let service;\n  if (props.arguments.service) {\n    service = props.arguments.service;\n  } else {\n    const preferences = await getPreferenceValues<Preferences>();\n    service = preferences.service;\n  }\n\n  const urlArgument = props.arguments.url;\n  try {\n    const url = await getUrl(urlArgument);\n\n    if (typeof url !== \"string\") {\n      throw url;\n    }\n\n    // Open the URL with the specified service\n    open(`${service}/${url}`);\n  } catch (error) {\n    await showToast({\n      style: Toast.Style.Failure,\n      title: \"Cannot remove paywall\",\n      message: (error as Error).message,\n    });\n  }\n};\n", "import { Clipboard, getSelectedText } from \"@raycast/api\";\n\nconst urlRegex = /(https?:\\/\\/)?(www\\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/;\n\nfunction isUrl(text: string): boolean {\n  return urlRegex.test(text);\n}\n\nexport async function getUrl(urlArgument: string | undefined): Promise<string | Error> {\n  let url: string | undefined;\n\n  if (urlArgument) {\n    // If the user has provided a URL, use that\n    url = urlArgument;\n  } else {\n    try {\n      // If the user has selected text, use that as the URL\n      url = await getSelectedText();\n    } catch {\n      // Otherwise, use the clipboard\n      url = await Clipboard.readText();\n    }\n  }\n\n  if (!url) {\n    return new Error(\"No URL provided.\");\n  }\n\n  if (!isUrl(url)) {\n    return new Error(`Invalid URL: \"${url}\"`);\n  }\n\n  return url.trim();\n}\n"],
  "mappings": "yaAAA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,aAAAE,IAAA,eAAAC,EAAAH,GAAA,IAAAI,EAAyE,wBCAzE,IAAAC,EAA2C,wBAErCC,EAAW,+FAEjB,SAASC,EAAMC,EAAuB,CACpC,OAAOF,EAAS,KAAKE,CAAI,CAC3B,CAEA,eAAsBC,EAAOC,EAA0D,CACrF,IAAIC,EAEJ,GAAID,EAEFC,EAAMD,MAEN,IAAI,CAEFC,EAAM,QAAM,mBAAgB,CAC9B,MAAE,CAEAA,EAAM,MAAM,YAAU,SAAS,CACjC,CAGF,OAAKA,EAIAJ,EAAMI,CAAG,EAIPA,EAAI,KAAK,EAHP,IAAI,MAAM,iBAAiBA,IAAM,EAJjC,IAAI,MAAM,kBAAkB,CAQvC,CD9BA,IAAOC,EAAQ,MAAOC,GAA+D,CACnF,IAAIC,EACAD,EAAM,UAAU,QAClBC,EAAUD,EAAM,UAAU,QAG1BC,GADoB,QAAM,uBAAiC,GACrC,QAGxB,IAAMC,EAAcF,EAAM,UAAU,IACpC,GAAI,CACF,IAAMG,EAAM,MAAMC,EAAOF,CAAW,EAEpC,GAAI,OAAOC,GAAQ,SACjB,MAAMA,KAIR,QAAK,GAAGF,KAAWE,GAAK,CAC1B,OAASE,EAAP,CACA,QAAM,aAAU,CACd,MAAO,QAAM,MAAM,QACnB,MAAO,wBACP,QAAUA,EAAgB,OAC5B,CAAC,CACH,CACF",
  "names": ["remove_paywall_exports", "__export", "remove_paywall_default", "__toCommonJS", "import_api", "import_api", "urlRegex", "isUrl", "text", "getUrl", "urlArgument", "url", "remove_paywall_default", "props", "service", "urlArgument", "url", "getUrl", "error"]
}
