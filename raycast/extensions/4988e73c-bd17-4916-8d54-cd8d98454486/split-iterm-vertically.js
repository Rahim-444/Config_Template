"use strict";var vn=Object.create;var F=Object.defineProperty;var En=Object.getOwnPropertyDescriptor;var In=Object.getOwnPropertyNames;var Tn=Object.getPrototypeOf,Pn=Object.prototype.hasOwnProperty;var c=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),An=(e,t)=>{for(var r in t)F(e,r,{get:t[r],enumerable:!0})},Ce=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of In(t))!Pn.call(e,s)&&s!==r&&F(e,s,{get:()=>t[s],enumerable:!(n=En(t,s))||n.enumerable});return e};var D=(e,t,r)=>(r=e!=null?vn(Tn(e)):{},Ce(t||!e||!e.__esModule?F(r,"default",{value:e,enumerable:!0}):r,e)),Cn=e=>Ce(F({},"__esModule",{value:!0}),e);var Ne=c((Cs,qe)=>{qe.exports=Oe;Oe.sync=Rn;var Ge=require("fs");function Gn(e,t){var r=t.pathExt!==void 0?t.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var n=0;n<r.length;n++){var s=r[n].toLowerCase();if(s&&e.substr(-s.length).toLowerCase()===s)return!0}return!1}function Re(e,t,r){return!e.isSymbolicLink()&&!e.isFile()?!1:Gn(t,r)}function Oe(e,t,r){Ge.stat(e,function(n,s){r(n,n?!1:Re(s,e,t))})}function Rn(e,t){return Re(Ge.statSync(e),e,t)}});var Be=c((Gs,Le)=>{Le.exports=$e;$e.sync=On;var ke=require("fs");function $e(e,t,r){ke.stat(e,function(n,s){r(n,n?!1:_e(s,t))})}function On(e,t){return _e(ke.statSync(e),t)}function _e(e,t){return e.isFile()&&qn(e,t)}function qn(e,t){var r=e.mode,n=e.uid,s=e.gid,o=t.uid!==void 0?t.uid:process.getuid&&process.getuid(),i=t.gid!==void 0?t.gid:process.getgid&&process.getgid(),a=parseInt("100",8),u=parseInt("010",8),l=parseInt("001",8),f=a|u,h=r&l||r&u&&s===i||r&a&&n===o||r&f&&o===0;return h}});var je=c((Os,Me)=>{var Rs=require("fs"),H;process.platform==="win32"||global.TESTING_WINDOWS?H=Ne():H=Be();Me.exports=se;se.sync=Nn;function se(e,t,r){if(typeof t=="function"&&(r=t,t={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,s){se(e,t||{},function(o,i){o?s(o):n(i)})})}H(e,t||{},function(n,s){n&&(n.code==="EACCES"||t&&t.ignoreErrors)&&(n=null,s=!1),r(n,s)})}function Nn(e,t){try{return H.sync(e,t||{})}catch(r){if(t&&t.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var We=c((qs,Ke)=>{var P=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",Ue=require("path"),kn=P?";":":",Fe=je(),De=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),He=(e,t)=>{let r=t.colon||kn,n=e.match(/\//)||P&&e.match(/\\/)?[""]:[...P?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(r)],s=P?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",o=P?s.split(r):[""];return P&&e.indexOf(".")!==-1&&o[0]!==""&&o.unshift(""),{pathEnv:n,pathExt:o,pathExtExe:s}},Xe=(e,t,r)=>{typeof t=="function"&&(r=t,t={}),t||(t={});let{pathEnv:n,pathExt:s,pathExtExe:o}=He(e,t),i=[],a=l=>new Promise((f,h)=>{if(l===n.length)return t.all&&i.length?f(i):h(De(e));let m=n[l],g=/^".*"$/.test(m)?m.slice(1,-1):m,y=Ue.join(g,e),x=!g&&/^\.[\\\/]/.test(e)?e.slice(0,2)+y:y;f(u(x,l,0))}),u=(l,f,h)=>new Promise((m,g)=>{if(h===s.length)return m(a(f+1));let y=s[h];Fe(l+y,{pathExt:o},(x,T)=>{if(!x&&T)if(t.all)i.push(l+y);else return m(l+y);return m(u(l,f,h+1))})});return r?a(0).then(l=>r(null,l),r):a(0)},$n=(e,t)=>{t=t||{};let{pathEnv:r,pathExt:n,pathExtExe:s}=He(e,t),o=[];for(let i=0;i<r.length;i++){let a=r[i],u=/^".*"$/.test(a)?a.slice(1,-1):a,l=Ue.join(u,e),f=!u&&/^\.[\\\/]/.test(e)?e.slice(0,2)+l:l;for(let h=0;h<n.length;h++){let m=f+n[h];try{if(Fe.sync(m,{pathExt:s}))if(t.all)o.push(m);else return m}catch{}}}if(t.all&&o.length)return o;if(t.nothrow)return null;throw De(e)};Ke.exports=Xe;Xe.sync=$n});var ie=c((Ns,oe)=>{"use strict";var ze=(e={})=>{let t=e.env||process.env;return(e.platform||process.platform)!=="win32"?"PATH":Object.keys(t).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};oe.exports=ze;oe.exports.default=ze});var Ze=c((ks,Qe)=>{"use strict";var Ve=require("path"),_n=We(),Ln=ie();function Ye(e,t){let r=e.options.env||process.env,n=process.cwd(),s=e.options.cwd!=null,o=s&&process.chdir!==void 0&&!process.chdir.disabled;if(o)try{process.chdir(e.options.cwd)}catch{}let i;try{i=_n.sync(e.command,{path:r[Ln({env:r})],pathExt:t?Ve.delimiter:void 0})}catch{}finally{o&&process.chdir(n)}return i&&(i=Ve.resolve(s?e.options.cwd:"",i)),i}function Bn(e){return Ye(e)||Ye(e,!0)}Qe.exports=Bn});var Je=c(($s,ce)=>{"use strict";var ae=/([()\][%!^"`<>&|;, *?])/g;function Mn(e){return e=e.replace(ae,"^$1"),e}function jn(e,t){return e=`${e}`,e=e.replace(/(\\*)"/g,'$1$1\\"'),e=e.replace(/(\\*)$/,"$1$1"),e=`"${e}"`,e=e.replace(ae,"^$1"),t&&(e=e.replace(ae,"^$1")),e}ce.exports.command=Mn;ce.exports.argument=jn});var tt=c((_s,et)=>{"use strict";et.exports=/^#!(.*)/});var rt=c((Ls,nt)=>{"use strict";var Un=tt();nt.exports=(e="")=>{let t=e.match(Un);if(!t)return null;let[r,n]=t[0].replace(/#! ?/,"").split(" "),s=r.split("/").pop();return s==="env"?n:n?`${s} ${n}`:s}});var ot=c((Bs,st)=>{"use strict";var ue=require("fs"),Fn=rt();function Dn(e){let r=Buffer.alloc(150),n;try{n=ue.openSync(e,"r"),ue.readSync(n,r,0,150,0),ue.closeSync(n)}catch{}return Fn(r.toString())}st.exports=Dn});var ut=c((Ms,ct)=>{"use strict";var Hn=require("path"),it=Ze(),at=Je(),Xn=ot(),Kn=process.platform==="win32",Wn=/\.(?:com|exe)$/i,zn=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function Vn(e){e.file=it(e);let t=e.file&&Xn(e.file);return t?(e.args.unshift(e.file),e.command=t,it(e)):e.file}function Yn(e){if(!Kn)return e;let t=Vn(e),r=!Wn.test(t);if(e.options.forceShell||r){let n=zn.test(t);e.command=Hn.normalize(e.command),e.command=at.command(e.command),e.args=e.args.map(o=>at.argument(o,n));let s=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${s}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}function Qn(e,t,r){t&&!Array.isArray(t)&&(r=t,t=null),t=t?t.slice(0):[],r=Object.assign({},r);let n={command:e,args:t,options:r,file:void 0,original:{command:e,args:t}};return r.shell?n:Yn(n)}ct.exports=Qn});var ft=c((js,dt)=>{"use strict";var le=process.platform==="win32";function de(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function Zn(e,t){if(!le)return;let r=e.emit;e.emit=function(n,s){if(n==="exit"){let o=lt(s,t,"spawn");if(o)return r.call(e,"error",o)}return r.apply(e,arguments)}}function lt(e,t){return le&&e===1&&!t.file?de(t.original,"spawn"):null}function Jn(e,t){return le&&e===1&&!t.file?de(t.original,"spawnSync"):null}dt.exports={hookChildProcess:Zn,verifyENOENT:lt,verifyENOENTSync:Jn,notFoundError:de}});var ht=c((Us,A)=>{"use strict";var pt=require("child_process"),fe=ut(),pe=ft();function mt(e,t,r){let n=fe(e,t,r),s=pt.spawn(n.command,n.args,n.options);return pe.hookChildProcess(s,n),s}function er(e,t,r){let n=fe(e,t,r),s=pt.spawnSync(n.command,n.args,n.options);return s.error=s.error||pe.verifyENOENTSync(s.status,n),s}A.exports=mt;A.exports.spawn=mt;A.exports.sync=er;A.exports._parse=fe;A.exports._enoent=pe});var yt=c((Fs,gt)=>{"use strict";gt.exports=e=>{let t=typeof e=="string"?`
`:10,r=typeof e=="string"?"\r":13;return e[e.length-1]===t&&(e=e.slice(0,e.length-1)),e[e.length-1]===r&&(e=e.slice(0,e.length-1)),e}});var wt=c((Ds,_)=>{"use strict";var $=require("path"),St=ie(),xt=e=>{e={cwd:process.cwd(),path:process.env[St()],execPath:process.execPath,...e};let t,r=$.resolve(e.cwd),n=[];for(;t!==r;)n.push($.join(r,"node_modules/.bin")),t=r,r=$.resolve(r,"..");let s=$.resolve(e.cwd,e.execPath,"..");return n.push(s),n.concat(e.path).join($.delimiter)};_.exports=xt;_.exports.default=xt;_.exports.env=e=>{e={env:process.env,...e};let t={...e.env},r=St({env:t});return e.path=t[r],t[r]=_.exports(e),t}});var vt=c((Hs,me)=>{"use strict";var bt=(e,t)=>{for(let r of Reflect.ownKeys(t))Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));return e};me.exports=bt;me.exports.default=bt});var It=c((Xs,K)=>{"use strict";var tr=vt(),X=new WeakMap,Et=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let r,n=0,s=e.displayName||e.name||"<anonymous>",o=function(...i){if(X.set(o,++n),n===1)r=e.apply(this,i),e=null;else if(t.throw===!0)throw new Error(`Function \`${s}\` can only be called once`);return r};return tr(o,e),X.set(o,n),o};K.exports=Et;K.exports.default=Et;K.exports.callCount=e=>{if(!X.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return X.get(e)}});var Tt=c(W=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});W.SIGNALS=void 0;var nr=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];W.SIGNALS=nr});var he=c(C=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0});C.SIGRTMAX=C.getRealtimeSignals=void 0;var rr=function(){let e=At-Pt+1;return Array.from({length:e},sr)};C.getRealtimeSignals=rr;var sr=function(e,t){return{name:`SIGRT${t+1}`,number:Pt+t,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},Pt=34,At=64;C.SIGRTMAX=At});var Ct=c(z=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});z.getSignals=void 0;var or=require("os"),ir=Tt(),ar=he(),cr=function(){let e=(0,ar.getRealtimeSignals)();return[...ir.SIGNALS,...e].map(ur)};z.getSignals=cr;var ur=function({name:e,number:t,description:r,action:n,forced:s=!1,standard:o}){let{signals:{[e]:i}}=or.constants,a=i!==void 0;return{name:e,number:a?i:t,description:r,supported:a,action:n,forced:s,standard:o}}});var Rt=c(G=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0});G.signalsByNumber=G.signalsByName=void 0;var lr=require("os"),Gt=Ct(),dr=he(),fr=function(){return(0,Gt.getSignals)().reduce(pr,{})},pr=function(e,{name:t,number:r,description:n,supported:s,action:o,forced:i,standard:a}){return{...e,[t]:{name:t,number:r,description:n,supported:s,action:o,forced:i,standard:a}}},mr=fr();G.signalsByName=mr;var hr=function(){let e=(0,Gt.getSignals)(),t=dr.SIGRTMAX+1,r=Array.from({length:t},(n,s)=>gr(s,e));return Object.assign({},...r)},gr=function(e,t){let r=yr(e,t);if(r===void 0)return{};let{name:n,description:s,supported:o,action:i,forced:a,standard:u}=r;return{[e]:{name:n,number:e,description:s,supported:o,action:i,forced:a,standard:u}}},yr=function(e,t){let r=t.find(({name:n})=>lr.constants.signals[n]===e);return r!==void 0?r:t.find(n=>n.number===e)},Sr=hr();G.signalsByNumber=Sr});var qt=c((Ys,Ot)=>{"use strict";var{signalsByName:xr}=Rt(),wr=({timedOut:e,timeout:t,errorCode:r,signal:n,signalDescription:s,exitCode:o,isCanceled:i})=>e?`timed out after ${t} milliseconds`:i?"was canceled":r!==void 0?`failed with ${r}`:n!==void 0?`was killed with ${n} (${s})`:o!==void 0?`failed with exit code ${o}`:"failed",br=({stdout:e,stderr:t,all:r,error:n,signal:s,exitCode:o,command:i,escapedCommand:a,timedOut:u,isCanceled:l,killed:f,parsed:{options:{timeout:h}}})=>{o=o===null?void 0:o,s=s===null?void 0:s;let m=s===void 0?void 0:xr[s].description,g=n&&n.code,x=`Command ${wr({timedOut:u,timeout:h,errorCode:g,signal:s,signalDescription:m,exitCode:o,isCanceled:l})}: ${i}`,T=Object.prototype.toString.call(n)==="[object Error]",j=T?`${x}
${n.message}`:x,U=[j,t,e].filter(Boolean).join(`
`);return T?(n.originalMessage=n.message,n.message=U):n=new Error(U),n.shortMessage=j,n.command=i,n.escapedCommand=a,n.exitCode=o,n.signal=s,n.signalDescription=m,n.stdout=e,n.stderr=t,r!==void 0&&(n.all=r),"bufferedData"in n&&delete n.bufferedData,n.failed=!0,n.timedOut=!!u,n.isCanceled=l,n.killed=f&&!u,n};Ot.exports=br});var kt=c((Qs,ge)=>{"use strict";var V=["stdin","stdout","stderr"],vr=e=>V.some(t=>e[t]!==void 0),Nt=e=>{if(!e)return;let{stdio:t}=e;if(t===void 0)return V.map(n=>e[n]);if(vr(e))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${V.map(n=>`\`${n}\``).join(", ")}`);if(typeof t=="string")return t;if(!Array.isArray(t))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof t}\``);let r=Math.max(t.length,V.length);return Array.from({length:r},(n,s)=>t[s])};ge.exports=Nt;ge.exports.node=e=>{let t=Nt(e);return t==="ipc"?"ipc":t===void 0||typeof t=="string"?[t,t,t,"ipc"]:t.includes("ipc")?t:[...t,"ipc"]}});var $t=c((Zs,Y)=>{Y.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&Y.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&Y.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var jt=c((Js,q)=>{var d=global.process,v=function(e){return e&&typeof e=="object"&&typeof e.removeListener=="function"&&typeof e.emit=="function"&&typeof e.reallyExit=="function"&&typeof e.listeners=="function"&&typeof e.kill=="function"&&typeof e.pid=="number"&&typeof e.on=="function"};v(d)?(_t=require("assert"),R=$t(),Lt=/^win/i.test(d.platform),L=require("events"),typeof L!="function"&&(L=L.EventEmitter),d.__signal_exit_emitter__?p=d.__signal_exit_emitter__:(p=d.__signal_exit_emitter__=new L,p.count=0,p.emitted={}),p.infinite||(p.setMaxListeners(1/0),p.infinite=!0),q.exports=function(e,t){if(!v(global.process))return function(){};_t.equal(typeof e,"function","a callback must be provided for exit handler"),O===!1&&ye();var r="exit";t&&t.alwaysLast&&(r="afterexit");var n=function(){p.removeListener(r,e),p.listeners("exit").length===0&&p.listeners("afterexit").length===0&&Q()};return p.on(r,e),n},Q=function(){!O||!v(global.process)||(O=!1,R.forEach(function(t){try{d.removeListener(t,Z[t])}catch{}}),d.emit=J,d.reallyExit=Se,p.count-=1)},q.exports.unload=Q,E=function(t,r,n){p.emitted[t]||(p.emitted[t]=!0,p.emit(t,r,n))},Z={},R.forEach(function(e){Z[e]=function(){if(v(global.process)){var r=d.listeners(e);r.length===p.count&&(Q(),E("exit",null,e),E("afterexit",null,e),Lt&&e==="SIGHUP"&&(e="SIGINT"),d.kill(d.pid,e))}}}),q.exports.signals=function(){return R},O=!1,ye=function(){O||!v(global.process)||(O=!0,p.count+=1,R=R.filter(function(t){try{return d.on(t,Z[t]),!0}catch{return!1}}),d.emit=Mt,d.reallyExit=Bt)},q.exports.load=ye,Se=d.reallyExit,Bt=function(t){v(global.process)&&(d.exitCode=t||0,E("exit",d.exitCode,null),E("afterexit",d.exitCode,null),Se.call(d,d.exitCode))},J=d.emit,Mt=function(t,r){if(t==="exit"&&v(global.process)){r!==void 0&&(d.exitCode=r);var n=J.apply(this,arguments);return E("exit",d.exitCode,null),E("afterexit",d.exitCode,null),n}else return J.apply(this,arguments)}):q.exports=function(){return function(){}};var _t,R,Lt,L,p,Q,E,Z,O,ye,Se,Bt,J,Mt});var Ft=c((eo,Ut)=>{"use strict";var Er=require("os"),Ir=jt(),Tr=1e3*5,Pr=(e,t="SIGTERM",r={})=>{let n=e(t);return Ar(e,t,r,n),n},Ar=(e,t,r,n)=>{if(!Cr(t,r,n))return;let s=Rr(r),o=setTimeout(()=>{e("SIGKILL")},s);o.unref&&o.unref()},Cr=(e,{forceKillAfterTimeout:t},r)=>Gr(e)&&t!==!1&&r,Gr=e=>e===Er.constants.signals.SIGTERM||typeof e=="string"&&e.toUpperCase()==="SIGTERM",Rr=({forceKillAfterTimeout:e=!0})=>{if(e===!0)return Tr;if(!Number.isFinite(e)||e<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);return e},Or=(e,t)=>{e.kill()&&(t.isCanceled=!0)},qr=(e,t,r)=>{e.kill(t),r(Object.assign(new Error("Timed out"),{timedOut:!0,signal:t}))},Nr=(e,{timeout:t,killSignal:r="SIGTERM"},n)=>{if(t===0||t===void 0)return n;let s,o=new Promise((a,u)=>{s=setTimeout(()=>{qr(e,r,u)},t)}),i=n.finally(()=>{clearTimeout(s)});return Promise.race([o,i])},kr=({timeout:e})=>{if(e!==void 0&&(!Number.isFinite(e)||e<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`)},$r=async(e,{cleanup:t,detached:r},n)=>{if(!t||r)return n;let s=Ir(()=>{e.kill()});return n.finally(()=>{s()})};Ut.exports={spawnedKill:Pr,spawnedCancel:Or,setupTimeout:Nr,validateTimeout:kr,setExitHandler:$r}});var Ht=c((to,Dt)=>{"use strict";var w=e=>e!==null&&typeof e=="object"&&typeof e.pipe=="function";w.writable=e=>w(e)&&e.writable!==!1&&typeof e._write=="function"&&typeof e._writableState=="object";w.readable=e=>w(e)&&e.readable!==!1&&typeof e._read=="function"&&typeof e._readableState=="object";w.duplex=e=>w.writable(e)&&w.readable(e);w.transform=e=>w.duplex(e)&&typeof e._transform=="function";Dt.exports=w});var Kt=c((no,Xt)=>{"use strict";var{PassThrough:_r}=require("stream");Xt.exports=e=>{e={...e};let{array:t}=e,{encoding:r}=e,n=r==="buffer",s=!1;t?s=!(r||n):r=r||"utf8",n&&(r=null);let o=new _r({objectMode:s});r&&o.setEncoding(r);let i=0,a=[];return o.on("data",u=>{a.push(u),s?i=a.length:i+=u.length}),o.getBufferedValue=()=>t?a:n?Buffer.concat(a,i):a.join(""),o.getBufferedLength=()=>i,o}});var Wt=c((ro,B)=>{"use strict";var{constants:Lr}=require("buffer"),Br=require("stream"),{promisify:Mr}=require("util"),jr=Kt(),Ur=Mr(Br.pipeline),ee=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function xe(e,t){if(!e)throw new Error("Expected a stream");t={maxBuffer:1/0,...t};let{maxBuffer:r}=t,n=jr(t);return await new Promise((s,o)=>{let i=a=>{a&&n.getBufferedLength()<=Lr.MAX_LENGTH&&(a.bufferedData=n.getBufferedValue()),o(a)};(async()=>{try{await Ur(e,n),s()}catch(a){i(a)}})(),n.on("data",()=>{n.getBufferedLength()>r&&i(new ee)})}),n.getBufferedValue()}B.exports=xe;B.exports.buffer=(e,t)=>xe(e,{...t,encoding:"buffer"});B.exports.array=(e,t)=>xe(e,{...t,array:!0});B.exports.MaxBufferError=ee});var Vt=c((so,zt)=>{"use strict";var{PassThrough:Fr}=require("stream");zt.exports=function(){var e=[],t=new Fr({objectMode:!0});return t.setMaxListeners(0),t.add=r,t.isEmpty=n,t.on("unpipe",s),Array.prototype.slice.call(arguments).forEach(r),t;function r(o){return Array.isArray(o)?(o.forEach(r),this):(e.push(o),o.once("end",s.bind(null,o)),o.once("error",t.emit.bind(t,"error")),o.pipe(t,{end:!1}),this)}function n(){return e.length==0}function s(o){e=e.filter(function(i){return i!==o}),!e.length&&t.readable&&t.end()}}});var Jt=c((oo,Zt)=>{"use strict";var Qt=Ht(),Yt=Wt(),Dr=Vt(),Hr=(e,t)=>{t===void 0||e.stdin===void 0||(Qt(t)?t.pipe(e.stdin):e.stdin.end(t))},Xr=(e,{all:t})=>{if(!t||!e.stdout&&!e.stderr)return;let r=Dr();return e.stdout&&r.add(e.stdout),e.stderr&&r.add(e.stderr),r},we=async(e,t)=>{if(e){e.destroy();try{return await t}catch(r){return r.bufferedData}}},be=(e,{encoding:t,buffer:r,maxBuffer:n})=>{if(!(!e||!r))return t?Yt(e,{encoding:t,maxBuffer:n}):Yt.buffer(e,{maxBuffer:n})},Kr=async({stdout:e,stderr:t,all:r},{encoding:n,buffer:s,maxBuffer:o},i)=>{let a=be(e,{encoding:n,buffer:s,maxBuffer:o}),u=be(t,{encoding:n,buffer:s,maxBuffer:o}),l=be(r,{encoding:n,buffer:s,maxBuffer:o*2});try{return await Promise.all([i,a,u,l])}catch(f){return Promise.all([{error:f,signal:f.signal,timedOut:f.timedOut},we(e,a),we(t,u),we(r,l)])}},Wr=({input:e})=>{if(Qt(e))throw new TypeError("The `input` option cannot be a stream in sync mode")};Zt.exports={handleInput:Hr,makeAllStream:Xr,getSpawnedResult:Kr,validateInputSync:Wr}});var tn=c((io,en)=>{"use strict";var zr=(async()=>{})().constructor.prototype,Vr=["then","catch","finally"].map(e=>[e,Reflect.getOwnPropertyDescriptor(zr,e)]),Yr=(e,t)=>{for(let[r,n]of Vr){let s=typeof t=="function"?(...o)=>Reflect.apply(n.value,t(),o):n.value.bind(t);Reflect.defineProperty(e,r,{...n,value:s})}return e},Qr=e=>new Promise((t,r)=>{e.on("exit",(n,s)=>{t({exitCode:n,signal:s})}),e.on("error",n=>{r(n)}),e.stdin&&e.stdin.on("error",n=>{r(n)})});en.exports={mergePromise:Yr,getSpawnedPromise:Qr}});var sn=c((ao,rn)=>{"use strict";var nn=(e,t=[])=>Array.isArray(t)?[e,...t]:[e],Zr=/^[\w.-]+$/,Jr=/"/g,es=e=>typeof e!="string"||Zr.test(e)?e:`"${e.replace(Jr,'\\"')}"`,ts=(e,t)=>nn(e,t).join(" "),ns=(e,t)=>nn(e,t).map(r=>es(r)).join(" "),rs=/ +/g,ss=e=>{let t=[];for(let r of e.trim().split(rs)){let n=t[t.length-1];n&&n.endsWith("\\")?t[t.length-1]=`${n.slice(0,-1)} ${r}`:t.push(r)}return t};rn.exports={joinCommand:ts,getEscapedCommand:ns,parseCommand:ss}});var fn=c((co,N)=>{"use strict";var os=require("path"),ve=require("child_process"),is=ht(),as=yt(),cs=wt(),us=It(),te=qt(),an=kt(),{spawnedKill:ls,spawnedCancel:ds,setupTimeout:fs,validateTimeout:ps,setExitHandler:ms}=Ft(),{handleInput:hs,getSpawnedResult:gs,makeAllStream:ys,validateInputSync:Ss}=Jt(),{mergePromise:on,getSpawnedPromise:xs}=tn(),{joinCommand:cn,parseCommand:un,getEscapedCommand:ln}=sn(),ws=1e3*1e3*100,bs=({env:e,extendEnv:t,preferLocal:r,localDir:n,execPath:s})=>{let o=t?{...process.env,...e}:e;return r?cs.env({env:o,cwd:n,execPath:s}):o},dn=(e,t,r={})=>{let n=is._parse(e,t,r);return e=n.command,t=n.args,r=n.options,r={maxBuffer:ws,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:r.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...r},r.env=bs(r),r.stdio=an(r),process.platform==="win32"&&os.basename(e,".exe")==="cmd"&&t.unshift("/q"),{file:e,args:t,options:r,parsed:n}},M=(e,t,r)=>typeof t!="string"&&!Buffer.isBuffer(t)?r===void 0?void 0:"":e.stripFinalNewline?as(t):t,ne=(e,t,r)=>{let n=dn(e,t,r),s=cn(e,t),o=ln(e,t);ps(n.options);let i;try{i=ve.spawn(n.file,n.args,n.options)}catch(g){let y=new ve.ChildProcess,x=Promise.reject(te({error:g,stdout:"",stderr:"",all:"",command:s,escapedCommand:o,parsed:n,timedOut:!1,isCanceled:!1,killed:!1}));return on(y,x)}let a=xs(i),u=fs(i,n.options,a),l=ms(i,n.options,u),f={isCanceled:!1};i.kill=ls.bind(null,i.kill.bind(i)),i.cancel=ds.bind(null,i,f);let m=us(async()=>{let[{error:g,exitCode:y,signal:x,timedOut:T},j,U,bn]=await gs(i,n.options,l),Ie=M(n.options,j),Te=M(n.options,U),Pe=M(n.options,bn);if(g||y!==0||x!==null){let Ae=te({error:g,exitCode:y,signal:x,stdout:Ie,stderr:Te,all:Pe,command:s,escapedCommand:o,parsed:n,timedOut:T,isCanceled:f.isCanceled,killed:i.killed});if(!n.options.reject)return Ae;throw Ae}return{command:s,escapedCommand:o,exitCode:0,stdout:Ie,stderr:Te,all:Pe,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return hs(i,n.options.input),i.all=ys(i,n.options),on(i,m)};N.exports=ne;N.exports.sync=(e,t,r)=>{let n=dn(e,t,r),s=cn(e,t),o=ln(e,t);Ss(n.options);let i;try{i=ve.spawnSync(n.file,n.args,n.options)}catch(l){throw te({error:l,stdout:"",stderr:"",all:"",command:s,escapedCommand:o,parsed:n,timedOut:!1,isCanceled:!1,killed:!1})}let a=M(n.options,i.stdout,i.error),u=M(n.options,i.stderr,i.error);if(i.error||i.status!==0||i.signal!==null){let l=te({stdout:a,stderr:u,error:i.error,signal:i.signal,exitCode:i.status,command:s,escapedCommand:o,parsed:n,timedOut:i.error&&i.error.code==="ETIMEDOUT",isCanceled:!1,killed:i.signal!==null});if(!n.options.reject)return l;throw l}return{command:s,escapedCommand:o,exitCode:0,stdout:a,stderr:u,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};N.exports.command=(e,t)=>{let[r,...n]=un(e);return ne(r,n,t)};N.exports.commandSync=(e,t)=>{let[r,...n]=un(e);return ne.sync(r,n,t)};N.exports.node=(e,t,r={})=>{t&&!Array.isArray(t)&&typeof t=="object"&&(r=t,t=[]);let n=an.node(r),s=process.execArgv.filter(a=>!a.startsWith("--inspect")),{nodePath:o=process.execPath,nodeOptions:i=s}=r;return ne(o,[...i,e,...Array.isArray(t)?t:[]],{...r,stdin:void 0,stdout:void 0,stderr:void 0,stdio:n,shell:!1})}});var Ps={};An(Ps,{default:()=>wn});module.exports=Cn(Ps);var pn=D(require("node:process"),1),mn=D(fn(),1);async function hn(e,{humanReadableOutput:t=!0}={}){if(pn.default.platform!=="darwin")throw new Error("macOS only");let r=t?[]:["-ss"],{stdout:n}=await(0,mn.default)("osascript",["-e",e,r]);return n}var S=require("@raycast/api");var b=require("@raycast/api"),yn=D(require("path"));var gn=D(require("path"),1);function Ee(e,t={}){if(typeof e!="string")throw new TypeError(`Expected a string, got ${typeof e}`);let{resolve:r=!0}=t,n=e;return r&&(n=gn.default.resolve(e)),n=n.replace(/\\/g,"/"),n[0]!=="/"&&(n=`/${n}`),encodeURI(`file://${n}`).replace(/[?#]/g,encodeURIComponent)}var k=require("react/jsx-runtime"),vs=()=>(0,k.jsx)(b.Action.Open,{title:"Open System Preferences",icon:b.Icon.Gear,target:"x-apple.systempreferences:com.apple.preference.security?Privacy_AllFiles"}),Es=()=>(0,k.jsx)(b.ActionPanel,{children:(0,k.jsx)(vs,{})}),Is=`## Raycast needs automation access to iTerm.

1. Open **System Settings**
1. Open the **Privacy & Security** Preferences pane 
1. Then select the **Automation** tab
1. Expand **Raycast** from the list of applications
1. Ensure the **iTerm**  toggle is enabled as shown in the image below
1. When prompted enter your password

![Full Disk Access Preferences Pane](${Ee(yn.default.join(b.environment.assetsPath,"permission-raycast-automation.png"))})
`,Sn=e=>e.indexOf("Command failed with exit code 1: osascript -e")!==-1,xn=()=>(0,k.jsx)(b.Detail,{markdown:Is,navigationTitle:"Permission Issue with Raycast",actions:(0,k.jsx)(Es,{})});var re=require("react"),I=require("react/jsx-runtime"),Ts=`
  on isAppRunning(appName)
    tell application "System Events" to (name of processes) contains appName
  end isAppRunning

  if isAppRunning("iTerm2") or isAppRunning("iTerm") then
    tell application "iTerm"
      activate
      repeat until application "iTerm" is running
          delay 0.1
      end repeat
      
      tell current session of current window
          split vertically with default profile
      end tell
      activate
    end tell
    return true
  else
    return "iTerm application is not running"
  end if`;function wn(){let[e,t]=(0,re.useState)(!1),r=()=>{hn(Ts).then(async n=>{n!=="true"&&await(0,S.showHUD)(n),await(0,S.closeMainWindow)(),await(0,S.popToRoot)()}).catch(async n=>{if(Sn(n.message)){t(!0);return}await(0,S.showToast)({style:S.Toast.Style.Failure,title:"Cannot split vertically",message:n.message})})};return(0,re.useEffect)(()=>{r()},[]),(0,I.jsxs)(I.Fragment,{children:[e&&(0,I.jsx)(xn,{}),!e&&(0,I.jsx)(S.Detail,{isLoading:!0,navigationTitle:"Splitting iTerm...",markdown:"Splitting iTerm..."})]})}
